---
// src/components/layout/SectionWrapper.astro
interface Props {
  variant?: 'hero' | 'content' | 'proof' | 'story' | 'minimal' | 'accent';
  prose?: boolean;
}
const { variant = 'content', prose = true } = Astro.props as Props;

const bgByVariant: Record<string,string> = {
  hero: 'bg-background-primary',
  content: 'bg-background-primary',
  proof: 'bg-background-primary',
  story: 'bg-background-primary',
  minimal: 'bg-background-primary',
  accent: 'bg-background-secondary/80 border border-border-default/60 shadow-[0_0_60px_rgba(59,130,246,0.2)] backdrop-blur-sm',
};

const rhythm: Record<string, string> = {
  hero: 'py-16 md:py-24',
  content: 'py-20 md:py-28',
  proof: 'py-20 md:py-28',
  story: 'py-20 md:py-28',
  minimal: 'py-12 md:py-16',
  accent: 'py-20 md:py-28',
};

const sectionClasses = [
  bgByVariant[variant] || bgByVariant.content,
  'overflow-hidden relative',
  `variant-${variant}`,
  rhythm[variant] || rhythm.content,
].join(' ');

const isHero = variant === 'hero';
const innerClasses = ['space-y-8', 'content-narrow'];
if (prose) {
  innerClasses.push('flow-prose');
}
---
<section class={sectionClasses}>
  <div class="max-w-5xl mx-auto px-4 sm:px-6">
    {isHero ? (
      <div class="grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
        <slot />
      </div>
    ) : (
      <div class={innerClasses.join(' ')}>
        <slot />
      </div>
    )}
  </div>
</section>
